
{% extends 'fileSelect/base.html'%} {% block content %}
{% load static %}
<div class="row">
  <div class="col-sm-auto d-grid gap-4">
    <h3>Problematic files found:</h3>
    <div class="p-2 bg-light border">
      <button name="button" data-toggle="collapse" data-target="#allIssues" aria-expanded="false"
        aria-controls="allIssues" type="button" class="p-2 btn">
        All Files
      </button>
      <div class="col-sm-auto collapse" id="allIssues">
        <div class="row">
          <div class="col-sm-auto">
            <h2 style="text-shadow:#0000009a;">Headers </h2>
            {% for key,val in headers.items %}
            <form method="post">
              {% csrf_token %}
              <button id="buttonList" type="submit" value="{{ key }}" name="key" formaction="displayCode/">
                {{ key }}
              </button>
            </form>
            {% endfor %}
          </div>
          <div class="col-sm-auto">
            <h2 style="text-shadow:#0000009a;">Source</h2>
            {% for key,val in sources.items %}
            <form method="post">
              {% csrf_token %}
              <button id="buttonList" type="submit" value="{{ key }}" name="key" formaction="displayCode/">
                {{ key }}
              </button>
            </form>
            {% endfor %}
          </div>
        </div>
      </div>
    </div>

    <div class="p-2 bg-light border">
      <button name="button" data-toggle="collapse" data-target="#inheritanceIssues" aria-expanded="false"
        aria-controls="inheritanceIssues" type="button" class="p-2 btn btn-primary">
        Implementation Inheritance {{ implementationLength }}
      </button>
      <div class="col-sm-auto collapse" id="inheritanceIssues">
        {% if implementationLength > 0 %}
        <div class="row">
          <div class="col-sm-auto">
            <h2 style="text-shadow:#0000009a;">Headers </h2>
            {% for issueOccur in implementationIssues_H%}
            <form method="post">
              {% csrf_token %}
              <input type="hidden" name="issue" value="implementation" />
              <button id="buttonList" type="submit" value="{{ issueOccur }}" name="key" formaction="displayCode/">
                {{ issueOccur }}
              </button>
            </form>
            {% endfor %}
          </div>
          <div class="col-sm-auto">
            <h2 style="text-shadow:#0000009a;">Source</h2>
            {% for issueOccur in implementationIssues_C%}
            <form method="post">
              {% csrf_token %}
              <input type="hidden" name="issue" value="implementation" />
              <button id="buttonList" type="submit" value="{{ issueOccur }}" name="key" formaction="displayCode/">
                {{ issueOccur }}
              </button>
            </form>
            {% endfor %}
          </div>
        </div>
        {% endif %}
      </div>
    </div>

    <div class="p-2 bg-light border">
      <button name="button" data-toggle="collapse" data-target="#globalVariableIssues" aria-expanded="false"
        aria-controls="globalVariableIssues" type="button" class="p-2 btn btn-secondary">
        Global Variables {{ globalLength }}
      </button>
      <div class="col-sm-auto collapse" id="globalVariableIssues">
        {% if globalLength > 0 %}
        <div class="row">
          <div class="col-sm-auto">
            <h2 style="text-shadow:#0000009a;">Headers </h2>
            {% for issueOccur in globalVarIssues_H%}
            <form method="post">
              {% csrf_token %}
              <input type="hidden" name="issue" value="global" />
              <button id="buttonList" type="submit" value="{{ issueOccur }}" name="key" formaction="displayCode/">
                {{ issueOccur }}
              </button>
            </form>
            {% endfor %}
          </div>
          <div class="col-sm-auto">
            <h2 style="text-shadow:#0000009a;">Source</h2>
            {% for issueOccur in globalVarIssues_C%}
            <form method="post">
              {% csrf_token %}
              <input type="hidden" name="issue" value="global" />
              <button id="buttonList" type="submit" value="{{ issueOccur }}" name="key" formaction="displayCode/">
                {{ issueOccur }}
              </button>
            </form>
            {% endfor %}
          </div>
        </div>
        {% endif %}
      </div>
    </div>

    <div class="p-2 bg-light border">
      <button name="button" data-toggle="collapse" data-target="#publicDataIssues" aria-expanded="false"
        aria-controls="publicDataIssues" type="button" class="p-2 btn table-danger">
        Public Data Members {{ publicLength }}
      </button>
      <div class="col-sm-auto collapse" id="publicDataIssues">
        {% if publicLength > 0 %}
        <div class="row">
          <div class="col-sm-auto">
            <h2 style="text-shadow:#0000009a;">Headers </h2>
            {% for issueOccur in publicDataIssues_H%}
            <form method="post">
              {% csrf_token %}
              <input type="hidden" name="issue" value="publicData" />
              <button id="buttonList" type="submit" value="{{ issueOccur }}" name="key" formaction="displayCode/">
                {{ issueOccur }}
              </button>
            </form>
            {% endfor %}
          </div>
          <div class="col-sm-auto">
            <h2 style="text-shadow:#0000009a;">Sources</h2>
            {% for issueOccur in publicDataIssues_C%}
            <form method="post">
              {% csrf_token %}
              <input type="hidden" name="issue" value="publicData" />
              <button id="buttonList" type="submit" value="{{ issueOccur }}" name="key" formaction="displayCode/">
                {{ issueOccur }}
              </button>
            </form>
            {% endfor %}
          </div>
        </div>
        {% endif %}
      </div>
    </div>

    <div class="p-2 bg-light border">
      <button name="button" data-toggle="collapse" data-target="#switchIssues" aria-expanded="false"
        aria-controls="switchIssues" type="button" class="p-2 btn btn-danger">
        Switch Statements {{ switchLength }}
      </button>
      <div class="col-sm-auto collapse" id="switchIssues">
        {% if switchLength > 0 %}
        <div class="row">
          <div class="col-sm-auto">
            <h2 style="text-shadow:#0000009a;">Headers </h2>
            {% for issueOccur in switchIssues_H%}
            <form method="post">
              {% csrf_token %}
              <input type="hidden" name="issue" value="switch" />
              <button id="buttonList" type="submit" value="{{ issueOccur }}" name="key" formaction="displayCode/">
                {{ issueOccur }}
              </button>
            </form>
            {% endfor %}
          </div>
          <div class="col-sm-auto">
            <h2 style="text-shadow:#0000009a;">Sources</h2>
            {% for issueOccur in switchIssues_C%}
            <form method="post">
              {% csrf_token %}
              <input type="hidden" name="issue" value="switch" />
              <button id="buttonList" type="submit" value="{{ issueOccur }}" name="key" formaction="displayCode/">
                {{ issueOccur }}
              </button>
            </form>
            {% endfor %}
          </div>
        </div>
        {% endif %}
      </div>
    </div>

    <div class="p-2 bg-light border">
      <button name="button" data-toggle="collapse" data-target="#friendIssues" aria-expanded="false"
        aria-controls="friendIssues" type="button" class="p-2 btn bg-warning">
        Friend Keyword {{ friendLength }}
      </button>
      <div class="col-sm-auto collapse" id="friendIssues">
        {% if friendLength > 0 %}
        <div class="row">
          <div class="col-sm-auto">
            <h2 style="text-shadow:#0000009a;">Headers </h2>
            {% for issueOccur in friendIssues_H%}
            <form method="post">
              {% csrf_token %}
              <input type="hidden" name="issue" value="friend" />
              <button id="buttonList" type="submit" value="{{ issueOccur }}" name="key" formaction="displayCode/">
                {{ issueOccur }}
              </button>
            </form>
            {% endfor %}
          </div>
          <div class="col-sm-auto">
            <h2 style="text-shadow:#0000009a;">Sources</h2>
            {% for issueOccur in friendIssues_C%}
            <form method="post">
              {% csrf_token %}
              <input type="hidden" name="issue" value="friend" />
              <button id="buttonList" type="submit" value="{{ issueOccur }}" name="key" formaction="displayCode/">
                {{ issueOccur }}
              </button>
            </form>
            {% endfor %}
          </div>
        </div>
        {% endif %}
      </div>
    </div>

    <div class="p-2 bg-light border">
      <button name="button" data-toggle="collapse" data-target="#dryIssues" aria-expanded="false"
        aria-controls="dryIssues" type="button" class="p-2 btn table-success">
        Dry Violations {{ dryLength }}
      </button>
      <div class="col-sm-auto collapse" id="dryIssues">
        {% if dryLength > 0 %}
        <div class="row">
          <div class="col-sm-auto">
            <h2 style="text-shadow:#0000009a;">Headers </h2>
            {% for issueOccur in dryIssues_H%}
            <form method="post">
              {% csrf_token %}
              <input type="hidden" name="issue" value="dry" />
              <button id="buttonList" type="submit" value="{{ issueOccur }}" name="key" formaction="displayCode/">
                {{ issueOccur }}
              </button>
            </form>
            {% endfor %}
          </div>
          <div class="col-sm-auto">
            <h2 style="text-shadow:#0000009a;">Sources</h2>
            {% for issueOccur in dryIssues_C%}
            <form method="post">
              {% csrf_token %}
              <input type="hidden" name="issue" value="dry" />
              <button id="buttonList" type="submit" value="{{ issueOccur }}" name="key" formaction="displayCode/">
                {{ issueOccur }}
              </button>
            </form>
            {% endfor %}
          </div>
        </div>
        {% endif %}
      </div>
    </div>
  </div>

  <!-- code taken from https://stackoverflow.com/questions/49809112/create-a-tree-diagram-multiple-parents-with-pure-html-css -->

  <div class="col-sm-auto">
    <h2>
      Class Structure
    </h2>
    {% include 'fileSelect/tree.html' %}
  </div>
</div>
</div>

<script src="https://unpkg.com/mermaid@8.14.0/dist/mermaid.min.js"></script>
<script src="{% static 'fileSelect/mermaid.js' %}" ></script>
{% endblock content%}
